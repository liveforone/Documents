# 대규모 서비스를 지탱하는 기술

## 메모리와 디스크의 차이
* 대규모 데이터는 메모리에 올릴 수가 없다.
* 메모리는 빠르다. hdd는 느리다. 이는 상식이다.
* hdd에 데이터를 옮기게 되면 io지연이 필연적으로 발생한다.
* 그렇다면 메모리와 hdd는 얼마만큼의 차이가 발생할까?
* 무려 10^5 ~ 10^6의 차이이다. 이는 10만 ~ 100만배이다.

## 스왑
* 물리 메모리 부족시 2차 기억장치(hdd)를 메모리로 간주하여 메모리 부족을 해결하는 기술이다.

## pc 재부팅 후 캐시 초깃 값
* 서버를 재부팅 후 캐시는 어떤 상태일까?
* pc 재부팅 후 캐시는 비어있다.
* 따라서 이 상태에서 부하테스트 등을 하는 것은 무의미하다.

## 파티셔닝 시 기준점
* 파티셔닝 시 다양한 기준점을 세울 수 있다.
* 1. 테이블 단위로 쪼개기
* 2. 테이블 내의 규칙에 따라 쪼개기
* 3. 요청패턴(클라이언트 혹은 내부 통신시 요청하는 패턴)
  - ex : 상품 상세 api는 detail 테이블 + file 테이블이 함께 뜬다고 하면 이 둘을 묶는 것이다.

## 복합 인덱스 주의 사항
* 보통의 경우 where절의 조건만 복합인덱스에 포함시킨다.
* 그러나 복합인데스에는 `where` `order by` `group by` 세가지 조건이 포함되어야한다.
* 물론 뭐하나가 없다면 안넣어도 상관없지만, 이 모든 조건이 존재할 경우 반드시 복합인덱스에 포함시켜야한다.
